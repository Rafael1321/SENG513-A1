<!DOCTYPE html>
<html>
    <head>
        <title>Foodie</title>
        <link rel="icon" href="assets/food/hamburger.png">
        <link rel="stylesheet" href="styles/contact.css">
    </head>
    <body>
        <nav>
            <div>
                <img src="./assets/food/hamburger.png" alt="">
                <span><a href="/home.html">Foodie</a></span>
            </div>
            <ul>
                <li><a href="/home.html">Home</a></li>
                <li><a href="/catalogue.html">Catalogue</a></li>
                <li><a href="/about.html">About</a></li>
            </ul>
        </nav>
        <div class="outer-container center-vertically center-horizontally">
            <div class="inner-container">
                <div class="inner-container-title">Contact Us</div>
                <div class="inner-container-body"> 
                    <div class="inner-container-body-left">
                        <img src="assets/trucks/taco-truck.png" alt="Taco Truck">
                    </div>
                    <form class="inner-container-body-right" autocomplete="off" onsubmit="handleFormSubmit(this)">
                        <div>
                            <input id="name" type="text" placeholder=" " required/>
                            <span class="custom-label">Name</span>
                        </div>
                        <div>
                            <input id="email" type="email" placeholder=" " required/>
                            <span class="custom-label">Email</span>
                        </div>
                        <div>
                            <input id="phone" type="tel" placeholder=" " required pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"/>
                            <span class="custom-label">Phone</span>
                        </div>
                        <div>
                            <textarea id="message" rows="8" placeholder=" " required></textarea>
                            <span class="custom-label">Message</span>
                        </div>
                        <button type="submit">Send</button>
                    </form>
                </div>
            </div>
        </div>
        <footer>
            <span>&copy; Rafael Flores Souza</span>
        </footer>

        <script>
            function handleFormSubmit(formEl){
                const name = document.getElementById("name").value;
                const email = document.getElementById("email").value;
                const phone = document.getElementById("phone").value;
                const message = document.getElementById("message");

                const to = "raflso@icloud.com";
                const from = email;
                const subject = "Contact - Foodie";
                const emailBody = `Hello Foodie,%0D%0A%0D%0A${message.value}%0D%0A%0D%0AThank you in advance.%0D%0A%0D%0ABest Regards,%0D%0A%0D%0A${name}%0D%0A${email}%0D%0A${phone}`
                location.href = "mailto:"+to+'?cc='+""+'&subject='+subject+'&body='+emailBody;
            }
        </script>
        
    </body>
</html>